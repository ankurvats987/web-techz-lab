<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Shopping Cart</title>
<style>
  body { font-family: Arial; }
  li { margin: 5px 0; }
</style>
</head>

<body>
<h2>Shopping Cart</h2>

<ul id="cart"></ul>

<input id="coupon" placeholder="Coupon Code" />
<button onclick="render()">Apply</button>

<h3>Total: â‚¹<span id="total">0</span></h3>

<script>
let cart = [
  { name: "Laptop", price: 50000, qty: 1, cat: "electronics" },
  { name: "Book", price: 500, qty: 2, cat: "education" }
];

function discount(item) {
  let d = 0;
  if (item.qty >= 5) d += item.price * 0.1;
  if (item.cat === "electronics") d += item.price * 0.05;
  return d;
}

function render() {
  cartEl.innerHTML = "";
  let total = 0;

  cart.forEach((i, idx) => {
    const price = i.price * i.qty - discount(i);
    total += price;

    cartEl.innerHTML += `
      <li>
        ${i.name} (x${i.qty}) 
        <button onclick="cart[${idx}].qty++">+</button>
        <button onclick="cart[${idx}].qty--">-</button>
      </li>`;
  });

  const code = coupon.value.trim().toUpperCase();
  if (code.startsWith("SAVE")) {
    total -= total * Number(code.slice(4)) / 100;
  }

  document.getElementById("total").textContent = total;
}
render();
</script>
</body>
</html>
